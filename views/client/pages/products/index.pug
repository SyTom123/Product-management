extends ../../layouts/default.pug 
include ../../mixins/box-head.pug
include ../../mixins/go-back.pug
include ../../mixins/pagination.pug
block main 
    .container
        .row 
            .col-12   
                +box-head(pageTitle)
        .row 
            .col-12 
                div(class="product-sort")
                    span(class="product-sort-text") Sắp xếp theo
                    div(class=`product-sort-item` button-sort data-sort="viewed-desc") Xem nhiều nhất
                    div(class="product-sort-item" button-sort data-sort= "position-desc") Mới nhất
                    div(class="product-sort-item" button-sort data-sort= "featured-1") Nổi bật
                    div(class="product-sort-item" button-sort data-sort= "discountPercentage-desc") Giảm giá nhiều
                    div(class="product-sort-price" )
                        div(class="product-sort-price-menu" button-price)
                            span Giá
                            <i class="fa-solid fa-chevron-down"></i>
                        div(class="product-sort-price-sub-items") 
                            div(class="product-sort-price-sub-item" button-sort data-sort="price-asc") Giá từ thấp đến cao
                            div(class="product-sort-price-sub-item" button-sort data-sort="price-desc") Giá từ cao đến thấp

        .row 
            each item in products 
                .col-3.mb-3 
                    a(class="product-item" href=`/products/detail/${item.slug}`)
                        div(class="product-item__img")
                            img(src=item.thumbnail, alt=item.title)
                        h4(class="product-item__name") #{item.title}
                        div(class="product-item__price")
                            span(class="product-item__price-old") #{item.priceOld}
                            span(class="product-item__price-current") #{item.priceNewFormatVND} 
                        if(item.featured == "1")
                            div(class="product-item__featured")
                                <i class="fa-solid fa-check"></i>
                                span Nổi bật
                        div(class="product-item__sale-off")
                            span(class="product-item__percent") #{item.discountPercentage} %
                            span(class="product-item__sale-off-label") GIẢM
                        div(class="product-item-line")
        +pagination(pagination)
  
